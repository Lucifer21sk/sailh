<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Ofici√°lna str√°nka SAILH ‚Äì Slovensk√° asoci√°cia in-line hokeja. Live v√Ωsledky." />
    <meta name="author" content="SAILH" />
    <title>SAILH - Domov</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="header">
        <div class="logo">
            <picture>
                <source srcset="logo_80.webp 1x, logo_160.webp 2x, logo_200.webp 3x" type="image/webp">
                <source srcset="logo_80.png 1x, logo_160.png 2x, logo_200.png 3x" type="image/png">
                <img src="logo_80.png" alt="SAILH Logo" class="logo-img">
            </picture>
        </div>
        <div class="site-title">Slovensk√° asoci√°cia in-line hokeja</div>
        <nav class="menu" role="navigation" aria-label="Hlavn√© menu">
            <a href="index.html" class="active">Domov</a>
            <a href="news.html">Novinky</a>
            <a href="gallery.html">Gal√©ria</a>
            <a href="clubs.html">Kluby</a>
            <a href="partners.html">Partneri</a>
            <a href="donate.html">Darujte 2%</a>
            <a href="https://www.inlineliga.sk">Amat√©rska liga</a>
        </nav>
    </header>

    <div class="video-banner">
        <video autoplay muted loop playsinline class="banner-video">
            <source src="banner.webm" type="video/webm" />
            <source src="banner.mp4" type="video/mp4" />
            V√°≈° prehliadaƒç nepodporuje prehr√°vanie videa.
        </video>
    </div>

    <div class="layout" style="justify-content: center;">
        <main class="hero main-content" style="max-width: 800px; width: 100%;">
            
            <div class="live-scoreboard-section">
                <h2>Live V√Ωsledky</h2>
                <div id="matchList" class="match-container">
                    <p>Naƒç√≠tavam z√°pasy...</p>
                </div>
            </div>

        </main>
    </div>

    <footer class="footer">
        <div class="footer-grid">
            <div>
                <h4 class="footer-title">SAILH</h4>
                <p class="footer-text">
                    Slovensk√° asoci√°cia in-line hokeja.<br><br>
                    Oreganov√° 1178/1<br>
                    900 46 Most pri Bratislave - Studen√©<br><br>
                    Registraƒçn√© ƒç√≠slo: VVS/1-900/90-72711
                </p>
            </div>
            <div>
                <h4 class="footer-title">Navig√°cia</h4>
                <ul class="footer-list">
                    <li><a href="https://ives.minv.sk/rmno/detail/13542098669735168654">O asoci√°cii</a></li>
                    <li><a href="clubs.html">Kluby</a></li>
                    <li><a href="https://www.inlineliga.sk/">Amat√©rska Liga</a></li>
                    <li><a href="partners.html">Partneri</a></li>
                    <li><a href="media.html">M√©di√°</a></li>
                    <li><a href="calendar.html">Kalend√°r</a></li>
                    <li><a href="privacy-policy.html">Ochrana √∫dajov</a></li>
                </ul>
            </div>
            <div>
                <h4 class="footer-title">Kontakt</h4>
                <p class="footer-text"><i class="fas fa-at icon-red"></i> pejchalr@gmail.com</p>
                <p class="footer-text"><i class="fas fa-phone icon-red"></i> +421 905 627 715</p>
                <p class="footer-text"><i class="fas fa-id-card icon-red"></i> IƒåO: 57133671</p>
                <p class="footer-text"><i class="fas fa-file-alt icon-red"></i> DIƒå: 2122632930</p>
            </div>
            <div>
                <h4 class="footer-title">Newsletter</h4>
                <p class="footer-text">Prihl√°ste sa na odber noviniek:</p>
                <input type="email" placeholder="V√°≈° e-mail" class="footer-input">
                <button class="footer-btn">Prihl√°si≈•</button>
            </div>
        </div>
        <div class="footer-bottom">¬© 2026 SAILH - V≈°etky pr√°va vyhraden√©</div>
    </footer>

    <script>
        async function loadMatches() {
            try {
                const response = await fetch("https://Lucifer21sk.pythonanywhere.com/matches/public");
                let matches = await response.json();

                // üö® THE FIX: Keep ONLY matches that are currently 'live' üö®
                matches = matches.filter(m => m.status === "live");

                const container = document.getElementById("matchList");
                container.innerHTML = ""; 

                if (matches.length === 0) {
                    container.innerHTML = "<p>Aktu√°lne sa nehraj√∫ ≈æiadne z√°pasy.</p>";
                    return;
                }

                matches.forEach(m => {
                    const statusClass = "status-live";
                    const statusText = "NA≈ΩIVO";
                    
                    let phaseText = m.phase;
                    if(phaseText === "normal") phaseText = "Z√°kladn√° hracia doba";
                    if(phaseText === "shootout") phaseText = "N√°jazdy";

                    container.innerHTML += `
                        <div class="match-card">
                            <div class="status-badge ${statusClass}">${statusText}</div>
                            <div class="scoreboard-display">
                                <div class="team-name" style="text-align: right;">${m.home_team}</div>
                                <div class="score-numbers">${m.home_score} - ${m.away_score}</div>
                                <div class="team-name" style="text-align: left;">${m.away_team}</div>
                            </div>
                            <div class="match-phase">${phaseText}</div>
                        </div>
                    `;
                });

            } catch (err) {
                console.error("Error loading matches:", err);
                document.getElementById("matchList").innerHTML = "<p>Chyba pri naƒç√≠tan√≠ v√Ωsledkov.</p>";
            }
        }

        loadMatches();
        setInterval(loadMatches, 5000); 
    </script>
</body>
</html>